let field=document.createElement("div");field.classList.add("field"),document.body.appendChild(field);let x=0,y=9;for(let e=0;e<100;e++){x>9&&y--,x>9&&(x=0);let e=document.createElement("div");e.classList.add("exel"),e.setAttribute("posX",x),e.setAttribute("posY",y),x++,field.append(e)}let posSnakeX=Math.round(2+8*Math.random()),posSnakeY=Math.round(2+8*Math.random()),posFoodX=Math.round(10*Math.random()),posFoodY=Math.round(10*Math.random()),exel=document.getElementsByClassName("exel"),snake=[];for(let e=0;e<exel.length;e++)exel[e].getAttribute("posX")==posSnakeX&&exel[e].getAttribute("posY")==posSnakeY&&(exel[e].classList.add("head"),exel[e-1].classList.add("black"),exel[e-2].classList.add("black"),snake.push(exel[e],exel[e-1],exel[e-2]));let temp=!1;do{posFoodX=Math.round(10*Math.random()),posFoodY=Math.round(10*Math.random());for(let e=0;e<exel.length;e++)exel[e].getAttribute("posX")==posFoodX&&exel[e].getAttribute("posY")==posFoodY&&(!1===(temp=exel[e].classList.contains("black"))&&(temp=exel[e].classList.contains("head")),temp||exel[e].classList.add("food"))}while(temp);let Right,Up,left,down,direction=0,headX=0,headY=0;function ArrowRight(){let e=document.querySelector(`[posx = "${+headX+1}"][posy = "${headY}"]`);if(10===++headX)return clearInterval(Right),void snake[0].classList.add("game-over");snake[0].classList.remove("head"),snake[0].classList.add("black"),snake[snake.length-1].classList.remove("black");let t=snake.pop();e.classList.add("head"),snake.unshift(e),e.classList.contains("food")&&(e.classList.remove("food"),snake.push(t)),"9"===e.getAttribute("posX")&&(clearInterval(Right),setTimeout(()=>{"ArrowRight"===direction&&snake[0].classList.add("game-over")},500))}function ArrowLeft(){let e=document.querySelector(`[posx = "${+headX-1}"][posy = "${headY}"]`);headX--,"0"===e.getAttribute("posX")&&(clearInterval(left),setTimeout(()=>{snake[0].classList.add("game-over")},500)),snake[0].classList.remove("head"),snake[0].classList.add("black"),snake[snake.length-1].classList.remove("black");let t=snake.pop();e.classList.add("head"),snake.unshift(e),e.classList.contains("food")&&(e.classList.remove("food"),snake.push(t))}function ArrowUp(){let e=document.querySelector(`[posx = "${+headX}"][posy = "${+headY+1}"]`);if(10===++headY)return clearInterval(Up),void snake[0].classList.add("game-over");snake[0].classList.remove("head"),snake[0].classList.add("black"),snake[snake.length-1].classList.remove("black");let t=snake.pop();e.classList.add("head"),snake.unshift(e),e.classList.contains("food")&&(e.classList.remove("food"),snake.push(t)),"9"===e.getAttribute("posY")&&(clearInterval(Up),setTimeout(()=>{"ArrowUp"===direction&&snake[0].classList.add("game-over")},500))}document.addEventListener("keyup",()=>{headX=snake[0].getAttribute("posX"),headY=snake[0].getAttribute("posY"),"ArrowDown"===event.key&&"ArrowUp"!==direction&&(direction="ArrowDown"),"ArrowUp"===event.key&&"ArrowDown"!==direction&&"ArrowUp"!==direction&&(direction="ArrowUp",Up=setInterval(()=>{"ArrowUp"===direction?ArrowUp():clearInterval(Up)},500)),"ArrowLeft"===event.key&&"ArrowRight"!==direction&&"ArrowLeft"!==direction&&(direction="ArrowLeft"),"ArrowRight"===event.key&&"ArrowLeft"!==direction&&"ArrowRight"!==direction&&(direction="ArrowRight",Right=setInterval(()=>{"ArrowRight"===direction?ArrowRight():clearInterval(Right)},500))});